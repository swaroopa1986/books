{"ast":null,"code":"import _slicedToArray from\"C:/Users/tjpra/Desktop/books_ecommerce/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import BookDetails from\"./BookDetails\";import\"../App.css\";import{useAppContext}from\"../components/appContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function BookList(_ref){var book=_ref.book;var _useState=useState(),_useState2=_slicedToArray(_useState,2),bookItem=_useState2[0],setItem=_useState2[1];var _useAppContext=useAppContext(),favourites=_useAppContext.favourites,addToFavourites=_useAppContext.addToFavourites,removeFromFavourites=_useAppContext.removeFromFavourites;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var favouritesChecker=function favouritesChecker(id){var boolean=favourites.some(function(item){return item.id===id;});return boolean;};return/*#__PURE__*/_jsx(_Fragment,{children:book.map(function(item){var thumbnail=item.volumeInfo.imageLinks&&item.volumeInfo.imageLinks.smallThumbnail;var amount=item.saleInfo.listPrice&&item.saleInfo.listPrice.amount;if(thumbnail!==undefined){return/*#__PURE__*/_jsxs(\"div\",{className:\"book-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{src:thumbnail,alt:item.volumeInfo.title,onClick:function onClick(){setShow(true);setItem(item);}}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:item.volumeInfo.title})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:item.volumeInfo.authors})}),/*#__PURE__*/_jsx(\"div\",{children:favouritesChecker(item.id)?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeFromFavourites(item.id);},className:\"bookbutton\",children:\"Remove From favourites\"}):/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return addToFavourites(item);},className:\"itembutton\",children:\"Add to favourites\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"amount\",children:amount?'€'+amount:'not for sale'})})]}),/*#__PURE__*/_jsx(BookDetails,{show:show,item:bookItem,onClose:function onClose(){return setShow(false);}})]},item.id);}})});}","map":{"version":3,"names":["React","useState","BookDetails","useAppContext","BookList","book","bookItem","setItem","favourites","addToFavourites","removeFromFavourites","show","setShow","favouritesChecker","id","boolean","some","item","map","thumbnail","volumeInfo","imageLinks","smallThumbnail","amount","saleInfo","listPrice","undefined","title","authors"],"sources":["C:/Users/tjpra/Desktop/books_ecommerce/frontend/src/screens/BookList.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport BookDetails from \"./BookDetails\";\r\nimport \"../App.css\";\r\nimport { useAppContext } from \"../components/appContext\";\r\nexport default function BookList({ book }) {\r\n  const [bookItem, setItem] = useState();\r\n  const { favourites, addToFavourites, removeFromFavourites } = useAppContext();\r\n  const [show,setShow]=useState(false);\r\n  const favouritesChecker = (id) => {\r\n    const boolean = favourites.some((item) => item.id === id);\r\n    return boolean;\r\n  };\r\n  return (\r\n    <>\r\n      {book.map((item) => {\r\n        let thumbnail =\r\n          item.volumeInfo.imageLinks &&\r\n          item.volumeInfo.imageLinks.smallThumbnail;\r\n        let amount = item.saleInfo.listPrice && item.saleInfo.listPrice.amount;\r\n        if (thumbnail !== undefined) {\r\n          return (\r\n            <div className=\"book-list\" key={item.id}>\r\n              <div className=\"card\">\r\n                <img src={thumbnail} alt={item.volumeInfo.title}  onClick={()=>{setShow(true); setItem(item)}}/>\r\n                <div className=\"bottom\">\r\n                  <h2 className=\"title\">{item.volumeInfo.title}</h2>\r\n                </div>\r\n                <div>\r\n                  <h2>{item.volumeInfo.authors}</h2>\r\n                </div>\r\n                <div>\r\n                  {favouritesChecker(item.id) ? (\r\n                    <button\r\n                      onClick={() => removeFromFavourites(item.id)}\r\n                      className=\"bookbutton\"\r\n                    >\r\n                      Remove From favourites\r\n                    </button>\r\n                  ) : (\r\n                    <button\r\n                      onClick={() => addToFavourites(item)}\r\n                      className=\"itembutton\"\r\n                    >\r\n                      Add to favourites\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              <div> \r\n                 <h4 className=\"amount\">{amount ? '€'+amount : 'not for sale'}</h4>\r\n              </div>\r\n              </div>\r\n            <BookDetails show={show} item={bookItem} onClose={()=>setShow(false)}/>\r\n            </div>\r\n          );\r\n        }\r\n      })}\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"qIAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,YAAW,KAAM,eAAe,CACvC,MAAO,YAAY,CACnB,OAASC,aAAa,KAAQ,0BAA0B,CAAC,6IACzD,cAAe,SAASC,SAAQ,MAAW,IAARC,KAAI,MAAJA,IAAI,CACrC,cAA4BJ,QAAQ,EAAE,wCAA/BK,QAAQ,eAAEC,OAAO,eACxB,mBAA8DJ,aAAa,EAAE,CAArEK,UAAU,gBAAVA,UAAU,CAAEC,eAAe,gBAAfA,eAAe,CAAEC,oBAAoB,gBAApBA,oBAAoB,CACzD,eAAqBT,QAAQ,CAAC,KAAK,CAAC,yCAA7BU,IAAI,eAACC,OAAO,eACnB,GAAMC,kBAAiB,CAAG,QAApBA,kBAAiB,CAAIC,EAAE,CAAK,CAChC,GAAMC,QAAO,CAAGP,UAAU,CAACQ,IAAI,CAAC,SAACC,IAAI,QAAKA,KAAI,CAACH,EAAE,GAAKA,EAAE,GAAC,CACzD,MAAOC,QAAO,CAChB,CAAC,CACD,mBACE,yBACGV,IAAI,CAACa,GAAG,CAAC,SAACD,IAAI,CAAK,CAClB,GAAIE,UAAS,CACXF,IAAI,CAACG,UAAU,CAACC,UAAU,EAC1BJ,IAAI,CAACG,UAAU,CAACC,UAAU,CAACC,cAAc,CAC3C,GAAIC,OAAM,CAAGN,IAAI,CAACO,QAAQ,CAACC,SAAS,EAAIR,IAAI,CAACO,QAAQ,CAACC,SAAS,CAACF,MAAM,CACtE,GAAIJ,SAAS,GAAKO,SAAS,CAAE,CAC3B,mBACE,aAAK,SAAS,CAAC,WAAW,wBACxB,aAAK,SAAS,CAAC,MAAM,wBACnB,YAAK,GAAG,CAAEP,SAAU,CAAC,GAAG,CAAEF,IAAI,CAACG,UAAU,CAACO,KAAM,CAAE,OAAO,CAAE,kBAAI,CAACf,OAAO,CAAC,IAAI,CAAC,CAAEL,OAAO,CAACU,IAAI,CAAC,EAAE,EAAE,cAChG,YAAK,SAAS,CAAC,QAAQ,uBACrB,WAAI,SAAS,CAAC,OAAO,UAAEA,IAAI,CAACG,UAAU,CAACO,KAAK,EAAM,EAC9C,cACN,kCACE,oBAAKV,IAAI,CAACG,UAAU,CAACQ,OAAO,EAAM,EAC9B,cACN,qBACGf,iBAAiB,CAACI,IAAI,CAACH,EAAE,CAAC,cACzB,eACE,OAAO,CAAE,yBAAMJ,qBAAoB,CAACO,IAAI,CAACH,EAAE,CAAC,EAAC,CAC7C,SAAS,CAAC,YAAY,oCAGf,cAET,eACE,OAAO,CAAE,yBAAML,gBAAe,CAACQ,IAAI,CAAC,EAAC,CACrC,SAAS,CAAC,YAAY,+BAIzB,EACG,cACR,kCACG,WAAI,SAAS,CAAC,QAAQ,UAAEM,MAAM,CAAG,GAAG,CAACA,MAAM,CAAG,cAAc,EAAM,EAC/D,GACA,cACR,KAAC,WAAW,EAAC,IAAI,CAAEZ,IAAK,CAAC,IAAI,CAAEL,QAAS,CAAC,OAAO,CAAE,yBAAIM,QAAO,CAAC,KAAK,CAAC,EAAC,EAAE,GA9BvCK,IAAI,CAACH,EAAE,CA+BjC,CAEV,CACF,CAAC,CAAC,EACD,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}